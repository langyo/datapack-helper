# datapack-helper
VSCode datapack-helper extension, providing basic template for datapack creation, json schema and autocompletion for command functions.

* Some data used are from PepijnMC's [Minecraft data](https://github.com/PepijnMC/Minecraft), with minor modification (removing the `minecraft:` namespace).
* JSON schema for advancements and loot tables are from Levertion's [minecraft-json-schemas](https://github.com/Levertion/minecraft-json-schemas).

## Usage
### Commands
```
datapack.initialize
```
Initialize a datapack, generate `.datapack` folter and files for tracking data, and `pack.mcmeta`.

------

```
datapack.reload
```
Parse functions and advancements, prepare completion data and store them in `.datapack` folder.

Only need to use it at the first time to prepare those data, and those data would be updated when there are file changes

------

```
datapack.open
Key: Ctrl+Alt+O
```
Open an advancement/function file based on its name, and create if it does not exist.

Example input:
1. a
2. `example:1`

### Keybinds
Escape:
```
Key: Alt+/

Example: "a" -> \"a\"
```

Unescape:
```
Key: Alt+\
Example: \"a\" -> "a"
```

Evaluate Js expression:
```
Ctrl+E
```

A `range(start=0, end, step=1): Array<number>` is provided, which is similar to the `range` function in python.

If the result is an array, it would join the array into lines and replace the code with those lines. Otherwise, the code would be replaced directly by its result (to string). If the result is a number but not an integer, 5 decimals would be kept.

![Example](https://thumbs.gfycat.com/VainForcefulDobermanpinscher-size_restricted.gif)

### Files
```
├ .datapack
├────── advancements.json   Advancement data, would be generated by using datapack.read command.
├────── entity_tags.json    Entity tags (/tag command) data, containing list of tags.
│                           NEEDS TO BE ENTERED BY THE USER.
├────── teams.json          Teams data, containing list of teams.
├────── sounds.json         Sounds.json.
│                           NEEDS TO BE ENTERED BY THE USER.
├────── functions.json      Function data, would be generated by using datapack.read command.
└────── objectives.json     Scoreboard objectives data, would be generated by using datapack.read command.
```
